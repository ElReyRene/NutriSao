<script>
    const params = new URLSearchParams(window.location.search);
    const categoria = params.get('categoria');

    if (categoria) {
        fetch(`models/${categoria}/lista.json`)
            .then(response => response.json())
            .then(data => {
                const modelosContainer = document.getElementById("modelos-container");
                data.modelos.forEach(modelo => {
                    const modelViewer = document.createElement("model-viewer");
                    modelViewer.setAttribute("src", `models/${categoria}/${modelo}`);
                    modelViewer.setAttribute("ar", "");
                    modelViewer.setAttribute("auto-rotate", "");
                    modelViewer.setAttribute("camera-controls", "");
                    modelViewer.setAttribute("style", "width: 300px; height: 300px; margin: 10px;");
                    modelosContainer.appendChild(modelViewer);
                });
            })
            .catch(error => {
                document.body.innerHTML += `<p>Error: No se pudieron cargar los modelos de la categoría ${categoria}.</p>`;
            });
    } else {
        document.body.innerHTML += "<p>Error: No se encontró la categoría.</p>";
    }
</script>


